(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{624:function(a,e,n){"use strict";var t=n(92),u=n.n(t),i=n(74),p=n.n(i),o=n(0),h=n.n(o),b=n(925);e.a=function(a){var e=a.variant,n=void 0===e?"outlined":e,t=a.label,i=a.name,o=a.value,r=a.onChange,d=a.error,l=a.errorText,m=a.placeholder,s=(a.inputPropsPosition,a.helperText),c=p()(a,["variant","label","name","value","onChange","error","errorText","placeholder","inputPropsPosition","helperText"]);return h.a.createElement(b.a,u()({variant:n,label:t,name:i,value:o,fullWidth:!0,margin:"normal",placeholder:m,error:d,helperText:l||s,onChange:r},c))}},920:function(a,e,n){"use strict";n.r(e);var t=n(37),r=n.n(t),i=n(47),d=n.n(i),o=n(48),l=n.n(o),m=n(49),s=n.n(m),c=n(12),u=n.n(c),p=n(50),h=n.n(p),b=n(5),g=n.n(b),f=n(0),v=n.n(f),x=n(51),E=n(300),k=n(1),D=n(3),j=n(15),O=(n(6),n(4)),S=n(7),y=n(11),W=v.a.forwardRef(function(a,e){var n=a.classes,t=a.className,i=a.component,o=void 0===i?"div":i,r=a.disableGutters,d=void 0!==r&&r,l=a.fixed,m=void 0!==l&&l,s=a.maxWidth,c=void 0===s?"lg":s,u=Object(D.a)(a,["classes","className","component","disableGutters","fixed","maxWidth"]);return v.a.createElement(o,Object(k.a)({className:Object(O.a)(n.root,t,m&&n.fixed,d&&n.disableGutters,!1!==c&&n["maxWidth".concat(Object(y.a)(String(c)))]),ref:e},u))}),w=Object(S.a)(function(t){var a;return{root:(a={width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},Object(j.a)(a,t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),Object(j.a)(a,t.breakpoints.up("md"),{paddingLeft:t.spacing(4),paddingRight:t.spacing(4)}),a),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(t.breakpoints.values).reduce(function(a,e){var n=t.breakpoints.values[e];return 0!==n&&(a[t.breakpoints.up(e)]={maxWidth:n}),a},{}),maxWidthXs:Object(j.a)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),maxWidthSm:Object(j.a)({},t.breakpoints.up("sm"),{maxWidth:t.breakpoints.values.sm}),maxWidthMd:Object(j.a)({},t.breakpoints.up("md"),{maxWidth:t.breakpoints.values.md}),maxWidthLg:Object(j.a)({},t.breakpoints.up("lg"),{maxWidth:t.breakpoints.values.lg}),maxWidthXl:Object(j.a)({},t.breakpoints.up("xl"),{maxWidth:t.breakpoints.values.xl})}},{name:"MuiContainer"})(W),C=n(26),A=n(624),F=(n(576),n(907),n(911),n(910),n(921),n(189)),L=n(109),R=n(93),T=n(2),G=function(a){function o(){var a,i;r()(this,o);for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return i=l()(this,(a=s()(o)).call.apply(a,[this].concat(n))),g()(u()(i),"state",{showForm:!1}),g()(u()(i),"handleEdit",function(){i.setState({showForm:!0})}),g()(u()(i),"handleSubmit",function(a){var e=i.props,n=e.handleEditDomain,t=e.item._id;console.log(a.domain),i.setState({showForm:!1}),n(t,{domain:a.domain})}),i}return h()(o,a),d()(o,[{key:"render",value:function(){var a=this.state.showForm,e=this.props.item.domain;return v.a.createElement("li",null,e,v.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",onClick:this.handleEdit},"Edit"),a&&v.a.createElement(v.a.Fragment,null,v.a.createElement(L.a,{initialValues:{domain:e},onSubmit:this.handleSubmit},function(a){var e=a.values,n=a.handleChange,t=a.handleSubmit;return v.a.createElement("form",{onSubmit:t},v.a.createElement(A.a,{label:"".concat(T.a.form.domain," *"),variant:"outlined",type:"text",name:"domain",onChange:n,value:e.domain}))})))}}]),o}(v.a.Component),M=function(a){function o(){var a,i;r()(this,o);for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return i=l()(this,(a=s()(o)).call.apply(a,[this].concat(n))),g()(u()(i),"getDomainsData",function(){(0,i.props.getDomainsAction)()}),g()(u()(i),"getDomains",function(){var a=i.props.domains,e=a.data,n=a.loaded,t=a.loading;return{domains:n&&e.data.data,loaded:n,loading:t}}),g()(u()(i),"handleSubmit",function(a){console.log(a.domain),(0,i.props.createDomainAction)({domain:a.domain}).then(function(a){return!a.error&&i.getDomainsData()})}),g()(u()(i),"handleEditDomain",function(a,e){console.log("data",e),(0,i.props.updateDomainAction)(a,e).then(function(a){return!a.error&&i.getDomainsData()})}),i}return h()(o,a),d()(o,[{key:"componentDidMount",value:function(){this.getDomainsData()}},{key:"render",value:function(){var e=this,a=this.getDomains(),n=a.domains,t=a.loaded,i=a.loading;return v.a.createElement("section",null,v.a.createElement("h3",null,"Domains"),v.a.createElement(v.a.Fragment,null,v.a.createElement(L.a,{initialValues:{domain:""},validate:function(a){return Object(R.c)(a)},onSubmit:this.handleSubmit},function(a){var e=a.values,n=a.errors,t=a.touched,i=a.handleChange,o=a.handleSubmit,r=a.isSubmitting;return v.a.createElement("form",{onSubmit:o},v.a.createElement(A.a,{label:"".concat(T.a.form.domain," *"),variant:"outlined",type:"url",name:"domain",placeholder:"f.e: domain.com",error:n.domain&&t.domain,errorText:n.domain&&t.domain&&n.domain,value:e.domain,onChange:i}),v.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:r,onClick:o},T.a.buttons.save))})),v.a.createElement(w,{fixed:!0},v.a.createElement("ul",{className:"test"},v.a.createElement(F.a,{isFetching:i},t&&n.map(function(a){return v.a.createElement(G,{key:a._id,item:a,handleEditDomain:e.handleEditDomain})})))))}}]),o}(v.a.Component);e.default=Object(x.b)(function(a){return{domains:a.get.domains}},function(n){return{createDomainAction:function(a){return n(Object(C.b)(a))},getDomainsAction:function(){return n(Object(C.i)())},updateDomainAction:function(a,e){return n(Object(C.u)(a,e))}}})(M)}}]);